-- MySQL Script generated by MySQL Workbench
-- Wed Aug 23 16:58:24 2017
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`SPL`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`SPL` (
  `idSPL` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idSPL`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`CoreAssetBaseline`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CoreAssetBaseline` (
  `idBaseline` VARCHAR(45) NOT NULL,
  `releaseDate` DATETIME NOT NULL,
  `SPL_idSPL` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idBaseline`),
  INDEX `fk_CoreAssetBaseline_SPL1_idx` (`SPL_idSPL` ASC),
  CONSTRAINT `fk_CoreAssetBaseline_SPL1`
    FOREIGN KEY (`SPL_idSPL`)
    REFERENCES `mydb`.`SPL` (`idSPL`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Feature`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Feature` (
  `idFeature` VARCHAR(45) NOT NULL,
  `name` VARCHAR(45) NULL,
  PRIMARY KEY (`idFeature`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`CoreAsset`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CoreAsset` (
  `idCoreAsset` INT NOT NULL,
  `name` VARCHAR(45) NOT NULL,
  `path` VARCHAR(45) NOT NULL,
  `content` LONGTEXT NOT NULL,
  `size` INT NOT NULL,
  `CoreAssetBaseline_idBaseline` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idCoreAsset`),
  INDEX `fk_CoreAsset_CoreAssetBaseline1_idx` (`CoreAssetBaseline_idBaseline` ASC),
  CONSTRAINT `fk_CoreAsset_CoreAssetBaseline1`
    FOREIGN KEY (`CoreAssetBaseline_idBaseline`)
    REFERENCES `mydb`.`CoreAssetBaseline` (`idBaseline`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`ProductPortfolio`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`ProductPortfolio` (
  `idPortfolio` VARCHAR(45) NOT NULL,
  `SPL_idSPL` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idPortfolio`),
  INDEX `fk_ProductPortfolio_SPL1_idx` (`SPL_idSPL` ASC),
  CONSTRAINT `fk_ProductPortfolio_SPL1`
    FOREIGN KEY (`SPL_idSPL`)
    REFERENCES `mydb`.`SPL` (`idSPL`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Product`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Product` (
  `idProduct` VARCHAR(45) NOT NULL,
  `name` VARCHAR(45) NULL,
  `ProductPortfolio_idPortfolio` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idProduct`),
  INDEX `fk_Product_ProductPortfolio1_idx` (`ProductPortfolio_idPortfolio` ASC),
  CONSTRAINT `fk_Product_ProductPortfolio1`
    FOREIGN KEY (`ProductPortfolio_idPortfolio`)
    REFERENCES `mydb`.`ProductPortfolio` (`idPortfolio`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`ProductRelease`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`ProductRelease` (
  `idRelease` VARCHAR(45) NOT NULL,
  `releaseDate` DATETIME NOT NULL,
  `Product_idProduct` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idRelease`),
  INDEX `fk_ProductRelease_Product1_idx` (`Product_idProduct` ASC),
  CONSTRAINT `fk_ProductRelease_Product1`
    FOREIGN KEY (`Product_idProduct`)
    REFERENCES `mydb`.`Product` (`idProduct`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`ProductAsset`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`ProductAsset` (
  `idProductAsset` INT NOT NULL,
  `name` VARCHAR(45) NOT NULL,
  `path` VARCHAR(45) NOT NULL,
  `content` LONGTEXT NOT NULL,
  `size` INT NOT NULL,
  `ProductRelease_idRelease` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idProductAsset`),
  INDEX `fk_ProductAsset_ProductRelease1_idx` (`ProductRelease_idRelease` ASC),
  CONSTRAINT `fk_ProductAsset_ProductRelease1`
    FOREIGN KEY (`ProductRelease_idRelease`)
    REFERENCES `mydb`.`ProductRelease` (`idRelease`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Customization`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Customization` (
  `idCustomization` INT NOT NULL,
  `operation` VARCHAR(45) NOT NULL,
  `CoreAsset_idCoreAsset` INT NOT NULL,
  `ProductAsset_idProductAsset` VARCHAR(45) NOT NULL,
  `Feature_idFeature` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idCustomization`),
  INDEX `fk_Customization_CoreAsset1_idx` (`CoreAsset_idCoreAsset` ASC),
  INDEX `fk_Customization_ProductAsset1_idx` (`ProductAsset_idProductAsset` ASC),
  INDEX `fk_Customization_Feature1_idx` (`Feature_idFeature` ASC),
  CONSTRAINT `fk_Customization_CoreAsset1`
    FOREIGN KEY (`CoreAsset_idCoreAsset`)
    REFERENCES `mydb`.`CoreAsset` (`idCoreAsset`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Customization_ProductAsset1`
    FOREIGN KEY (`ProductAsset_idProductAsset`)
    REFERENCES `mydb`.`ProductAsset` (`idProductAsset`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Customization_Feature1`
    FOREIGN KEY (`Feature_idFeature`)
    REFERENCES `mydb`.`Feature` (`idFeature`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`CoreAssetBaseline_has_Feature`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CoreAssetBaseline_has_Feature` (
  `CoreAssetBaseline_idBaseline` VARCHAR(45) NOT NULL,
  `Feature_idFeature` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`CoreAssetBaseline_idBaseline`, `Feature_idFeature`),
  INDEX `fk_CoreAssetBaseline_has_Feature_Feature1_idx` (`Feature_idFeature` ASC),
  INDEX `fk_CoreAssetBaseline_has_Feature_CoreAssetBaseline1_idx` (`CoreAssetBaseline_idBaseline` ASC),
  CONSTRAINT `fk_CoreAssetBaseline_has_Feature_CoreAssetBaseline1`
    FOREIGN KEY (`CoreAssetBaseline_idBaseline`)
    REFERENCES `mydb`.`CoreAssetBaseline` (`idBaseline`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CoreAssetBaseline_has_Feature_Feature1`
    FOREIGN KEY (`Feature_idFeature`)
    REFERENCES `mydb`.`Feature` (`idFeature`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`CoreAsset_has_Feature`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`CoreAsset_has_Feature` (
  `Feature_idFeature` VARCHAR(45) NOT NULL,
  `CoreAsset_idCoreAsset` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`Feature_idFeature`, `CoreAsset_idCoreAsset`),
  INDEX `fk_Feature_has_CoreAsset_CoreAsset1_idx` (`CoreAsset_idCoreAsset` ASC),
  INDEX `fk_Feature_has_CoreAsset_Feature1_idx` (`Feature_idFeature` ASC),
  CONSTRAINT `fk_Feature_has_CoreAsset_Feature1`
    FOREIGN KEY (`Feature_idFeature`)
    REFERENCES `mydb`.`Feature` (`idFeature`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Feature_has_CoreAsset_CoreAsset1`
    FOREIGN KEY (`CoreAsset_idCoreAsset`)
    REFERENCES `mydb`.`CoreAsset` (`idCoreAsset`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
